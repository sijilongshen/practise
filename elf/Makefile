#####################################################################
#»ñÈ¡ËùÓÐ .c .cpp ÎÄ¼þ src=$(wildcard *.c *.cpp ./sub/*.c) 
#####################################################################
source=$(wildcard *.c)
#header=$(wildcard ../include/*.h)

#####################################################################
#±àÒëÆ÷Ê¹ÓÃ g++ »ò gcc 
#####################################################################
CC=gcc -g 

#####################################################################
#½«±äÁ¿ source µÄÂ·¾¶¶¼È¥µô ÀýÈç ./test/aaa.c ×ª»»Îª aaa.c
#####################################################################
#source=$(notdir $(source))

#####################################################################
#½«±äÁ¿ source ÀïµÄËùÓÐ .c ×ª»»Îª .o
#####################################################################
objects=$(patsubst %.c,%.o,$(source))

#####################################################################
#ÉùÃ÷ all clean ÎªÎ±Ä¿±ê
#####################################################################
.PHONY:all clean

#####################################################################
#Òª±àÒëÉú³ÉµÄ³ÌÐòÁÐ±í
#####################################################################
#target=helloworld1 helloworld2
target=getsvninfo

all:$(target) 
#####################################################################
#³ÌÐò helloworld1 helloworld2 µÄ±àÒëÃüÁî
#####################################################################
# helloworld1:$(objects)
# 	cc -o helloworld1 $(header) $(objects)

# helloworld2:$(objects)
# 	cc -o helloworld2 $(header) $(objects)

#####################################################################
#±àÒë²¢Êä³ö compiling hello world ÎÄ×Ö @echo "some word"
#####################################################################
getsvninfo:$(objects)
	@echo "-- compiling hello world -- "
	$(CC) -o getsvninfo $(header) $(source) $(DEFINE)

clean:
	-rm $(target) $(objects)
